<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>IPTV Player | Barış</title>
<meta name="theme-color" content="#111827" />
<link rel="manifest" href="manifest.webmanifest">
<link rel="icon" href="icons/icon-192.png">
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<style>
body { margin:0; font-family:sans-serif; background:#0b1220; color:#eee; }
.app { display:grid; grid-template-columns:320px 1fr; grid-template-rows:auto 1fr auto; gap:10px; height:100vh; }
header, footer, aside, main { background:#121a2b; border-radius:12px; padding:10px; }
header { display:flex; align-items:center; gap:10px; }
header .logo { font-size:24px; }
aside { display:flex; flex-direction:column; }
.controls input, .controls button, .controls select { width:100%; margin:4px 0; padding:8px; border-radius:8px; border:1px solid #333; background:#0c1426; color:#eee; }
.list { flex:1; overflow:auto; }
.item { display:flex; gap:8px; padding:6px; border-radius:8px; cursor:pointer; }
.item:hover, .item.active { background:#1f2937; }
.player-wrap { display:grid; place-items:center; background:#000; height:100%; border-radius:8px; overflow:hidden; }
video,audio,iframe { width:100%; height:100%; }
.toolbar { display:flex; flex-wrap:wrap; gap:6px; margin-top:6px; }
.toolbar button { padding:8px 12px; border-radius:8px; background:#0c1426; color:#eee; border:1px solid #333; cursor:pointer; }
.toolbar button.primary { background:linear-gradient(135deg,#7c3aed,#14b8a6); border:0; }
</style>
</head>
<body>
<div class="app">
<header>
<div class="logo">▶</div>
<h1>Barış IPTV</h1>
<div style="margin-left:auto" id="status">Hazır</div>
</header>
<aside>
<div class="controls">
<input id="playlistUrl" placeholder="M3U / jsDelivr linki" />
<button id="btnLoadList">Listeyi Yükle</button>
<input id="singleUrl" placeholder="Tek medya linki" />
<button id="btnPlaySingle">Tek Link Oynat</button>
<select id="renderMode">
<option value="auto">Oynatma: Otomatik</option>
<option value="native">HLS Yerel</option>
<option value="hlsjs">HLS.js</option>
<option value="iframe">Iframe</option>
</select>
<input id="search" placeholder="Ara..." />
</div>
<div class="list" id="list"></div>
</aside>
<main>
<div class="player-wrap">
<div id="stage"></div>
</div>
<div class="toolbar">
<button id="btnShowList">Kanalları Göster</button>
<button id="btnPrev">⟨ Önceki</button>
<button id="btnNext">Sonraki ⟩</button>
<button id="btnVolDown">Ses −</button>
<button id="btnVolUp">Ses +</button>
<button id="btnFullscreen">Tam Ekran</button>
<button id="btnOpenExtern" class="primary">Dışarıda Aç</button>
<button id="btnReload">Yeniden Yükle</button>
<span id="nowTitle" style="margin-left:auto"></span>
</div>
</main>
<footer>© 2025 Barış IPTV</footer>
</div>


<script>
const $ = s=>document.querySelector(s);
const status=t=>$('#status').textContent=t;


function ghRawToJsDelivr(url){
const m=url.match(/^https?:\/\/raw\.githubusercontent\.com\/([^\/]+)\/([^\/]+)\/(?:refs\/heads\/)?([^\/]+)\/(.+)$/i);
